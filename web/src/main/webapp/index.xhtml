<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                template="WEB-INF/templates/default.xhtml"
                xmlns:p="http://primefaces.org/ui">
    <ui:define name="corps">
        <p>page incorpor√©</p>
        <h:form>

            <f:view>
                <p:dataTable rules="all"
                             value="#{adresseControler.getAllAdresses()}" var="adresse">
                    <p:column headerText="active">
                        <h:outputText value="#{adresse.active}"/>
                    </p:column>
                    <p:column headerText="libelle">
                        <h:outputText value="#{adresse.libelle}"/>
                    </p:column>
                </p:dataTable>
            </f:view>
        </h:form>
    </ui:define>
    <ui:define name="connect">
        <h:form id="loginForm">
            <h:panelGroup rendered="#{empty compteSession.login}">


                <p:inputText id="login"
                             requiredMessage="Veuillez entrer votre login."
                             required="true" class="form-control"
                             value="#{compteForm.login}"/>

                <!-- it's like placeholder (jsf doesn't support html5) it's on primefaces -->
                <p:watermark for="login" value="Login"/>

                <p:password id="password"
                            requiredMessage="Veuillez entrer votre mot de passe."
                            required="true" class="form-control"
                            value="#{compteForm.mdp}"/>
                <p:watermark for="password" value="mot de passe"/>

                <p:commandButton value="Connexion" ajax="false"
                                 action="#{compteController.login(compteForm)}">
                </p:commandButton>
            </h:panelGroup>
            <h:panelGroup rendered="#{not empty compteSession.login}">
                <h:outputText value="#{compteSession.prenom} #{compteSession.nom}"/>
                <h:commandLink action="#{compteController.logout}" value="logout"/>
            </h:panelGroup>
        </h:form>
    </ui:define>
</ui:composition>
